<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valley of Shadows - Biblical Grief Support | Depths to Heights</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #4A5568;
            --secondary: #718096;
            --accent: #9F7AEA;
            --light: #F7FAFC;
            --dark: #1A202C;
            --hope: #48BB78;
            --comfort: #4299E1;
            --shadow: rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Palatino', 'Book Antiqua', serif;
            background: linear-gradient(180deg, #E6FFFA 0%, #EDF2F7 50%, #E9D8FD 100%);
            color: var(--dark);
            min-height: 100vh;
            padding-top: 60px;
            padding-bottom: 80px;
            overflow-x: hidden;
        }

        /* Top Navigation Bar */
        .top-nav-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            box-shadow: 0 2px 10px var(--shadow);
            z-index: 1001;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .nav-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .hamburger {
            display: none;
            flex-direction: column;
            justify-content: space-between;
            width: 30px;
            height: 24px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .hamburger span {
            display: block;
            height: 3px;
            width: 100%;
            background: white;
            border-radius: 3px;
            transition: all 0.3s;
        }

        .hamburger.active span:nth-child(1) {
            transform: translateY(10px) rotate(45deg);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: translateY(-10px) rotate(-45deg);
        }

        .nav-title {
            color: white;
            font-size: 20px;
            font-weight: bold;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        }

        .nav-right {
            display: flex;
            gap: 15px;
        }

        .nav-back {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            font-weight: bold;
        }

        .nav-back:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        /* Side Menu */
        .side-menu {
            position: fixed;
            top: 60px;
            left: -300px;
            width: 280px;
            height: calc(100vh - 60px);
            background: white;
            box-shadow: 2px 0 10px var(--shadow);
            transition: left 0.3s;
            z-index: 1000;
            overflow-y: auto;
        }

        .side-menu.active {
            left: 0;
        }

        .menu-overlay {
            display: none;
            position: fixed;
            top: 60px;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }

        .menu-overlay.active {
            display: block;
        }

        .menu-section {
            padding: 20px;
            border-bottom: 1px solid #E2E8F0;
        }

        .menu-section h3 {
            color: var(--primary);
            font-size: 14px;
            text-transform: uppercase;
            margin-bottom: 15px;
            opacity: 0.7;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            margin: 5px 0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            color: var(--dark);
        }

        .menu-item:hover {
            background: linear-gradient(135deg, rgba(159, 122, 234, 0.1), rgba(72, 187, 120, 0.1));
            transform: translateX(5px);
        }

        .menu-item.active {
            background: linear-gradient(135deg, var(--accent), var(--comfort));
            color: white;
        }

        .menu-icon {
            font-size: 20px;
        }

        .menu-label {
            font-size: 16px;
        }

        /* Quick Access Bar */
        .quick-access {
            display: flex;
            gap: 10px;
            padding: 15px;
            background: white;
            box-shadow: 0 2px 5px var(--shadow);
            margin-bottom: 20px;
            overflow-x: auto;
            scrollbar-width: thin;
        }

        .quick-btn {
            flex-shrink: 0;
            padding: 10px 20px;
            background: linear-gradient(135deg, var(--accent), var(--comfort));
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            font-weight: bold;
            white-space: nowrap;
        }

        .quick-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px var(--shadow);
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .hamburger {
                display: flex;
            }

            .nav-title {
                font-size: 18px;
            }

            .audio-toggle {
                position: static;
                background: rgba(255, 255, 255, 0.2);
                padding: 8px 12px;
                font-size: 14px;
            }
        }

        /* Screens */
        .screen {
            display: none;
            min-height: calc(100vh - 140px);
            padding-top: 10px;
            animation: fadeIn 0.5s ease-in-out;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Opening Screen - special case */
        .opening-screen {
            background: linear-gradient(135deg, rgba(74, 85, 104, 0.95), rgba(159, 122, 234, 0.95)),
                        url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800"><defs><linearGradient id="sky" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:%23E6FFFA;stop-opacity:1"/><stop offset="100%" style="stop-color:%239F7AEA;stop-opacity:1"/></linearGradient></defs><rect fill="url(%23sky)" width="1200" height="800"/><path fill="rgba(255,255,255,0.1)" d="M0,400 Q300,300 600,400 T1200,400 L1200,800 L0,800 Z"/></svg>');
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            color: white;
            min-height: 100vh;
            margin-top: -60px;
        }

        .opening-screen h1 {
            font-size: 48px;
            margin-bottom: 20px;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.3);
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .opening-screen .verse {
            font-size: 20px;
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .opening-screen .author {
            font-style: italic;
            margin-top: 10px;
            opacity: 0.9;
        }

        .enter-btn {
            background: linear-gradient(135deg, var(--hope), var(--comfort));
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 30px;
            box-shadow: 0 4px 15px rgba(72, 187, 120, 0.3);
        }

        .enter-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(72, 187, 120, 0.4);
        }

        /* Audio Toggle - now in top nav */
        .audio-toggle {
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .audio-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 10px var(--shadow);
        }

        .header h2 {
            font-size: 28px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        }

        /* Dashboard */
        .dashboard {
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .welcome-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 5px 20px var(--shadow);
            margin-bottom: 30px;
            text-align: center;
        }

        .welcome-card h3 {
            color: var(--primary);
            font-size: 24px;
            margin-bottom: 15px;
        }

        .grief-type-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .grief-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 3px 15px var(--shadow);
            transition: all 0.3s;
            cursor: pointer;
            border-top: 4px solid var(--accent);
        }

        .grief-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 25px var(--shadow);
        }

        .grief-card .icon {
            font-size: 36px;
            margin-bottom: 15px;
        }

        .grief-card h4 {
            color: var(--primary);
            margin-bottom: 10px;
        }

        .grief-card p {
            color: var(--secondary);
            font-size: 14px;
            line-height: 1.6;
        }

        /* Journey Stages */
        .journey-container {
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .stage-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            margin: 20px 0;
            box-shadow: 0 3px 15px var(--shadow);
            border-left: 5px solid var(--accent);
        }

        .stage-card h3 {
            color: var(--primary);
            font-size: 24px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .stage-card .stage-icon {
            font-size: 30px;
        }

        .stage-content {
            color: var(--secondary);
            line-height: 1.8;
        }

        .scripture-box {
            background: linear-gradient(135deg, rgba(159, 122, 234, 0.1), rgba(72, 187, 120, 0.1));
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid var(--accent);
        }

        .scripture-box p {
            font-style: italic;
            color: var(--primary);
        }

        .scripture-box .reference {
            text-align: right;
            margin-top: 10px;
            font-weight: bold;
        }

        /* Journal */
        .journal-container {
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        .journal-entry {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 3px 15px var(--shadow);
            margin-bottom: 20px;
        }

        .journal-prompt {
            background: linear-gradient(135deg, rgba(159, 122, 234, 0.1), transparent);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-style: italic;
            color: var(--primary);
        }

        .journal-textarea {
            width: 100%;
            min-height: 200px;
            padding: 15px;
            border: 2px solid #E2E8F0;
            border-radius: 10px;
            font-family: inherit;
            font-size: 16px;
            resize: vertical;
            transition: border-color 0.3s;
        }

        .journal-textarea:focus {
            outline: none;
            border-color: var(--accent);
        }

        .journal-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .btn {
            background: linear-gradient(135deg, var(--accent), var(--comfort));
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px var(--shadow);
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--secondary), var(--primary));
        }

        .btn-hope {
            background: linear-gradient(135deg, var(--hope), #68D391);
        }

        /* Resources */
        .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .resource-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 3px 15px var(--shadow);
            transition: all 0.3s;
        }

        .resource-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px var(--shadow);
        }

        .resource-card h4 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 20px;
        }

        .resource-list {
            list-style: none;
            padding: 0;
        }

        .resource-list li {
            padding: 10px 0;
            border-bottom: 1px solid #E2E8F0;
            color: var(--secondary);
        }

        .resource-list li:last-child {
            border-bottom: none;
        }

        /* Memory Garden */
        .memory-container {
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .memory-form {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 3px 15px var(--shadow);
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            color: var(--primary);
            margin-bottom: 8px;
            font-weight: bold;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #E2E8F0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--accent);
        }

        .memory-display {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }

        .memory-card {
            background: linear-gradient(135deg, white, rgba(159, 122, 234, 0.05));
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 3px 10px var(--shadow);
            transition: all 0.3s;
        }

        .memory-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px var(--shadow);
        }

        .memory-date {
            font-size: 12px;
            color: var(--secondary);
            margin-bottom: 10px;
        }

        .memory-name {
            font-size: 18px;
            color: var(--primary);
            font-weight: bold;
            margin-bottom: 10px;
        }

        .memory-text {
            color: var(--secondary);
            line-height: 1.6;
        }

        /* Crisis Section */
        .crisis-container {
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .crisis-banner {
            background: linear-gradient(135deg, #E53E3E, #F56565);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(229, 62, 62, 0.3);
        }

        .crisis-banner h2 {
            font-size: 28px;
            margin-bottom: 15px;
        }

        .crisis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .crisis-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 3px 15px var(--shadow);
        }

        .crisis-card h4 {
            color: #E53E3E;
            margin-bottom: 15px;
        }

        .crisis-card ul {
            list-style: none;
            padding: 0;
        }

        .crisis-card li {
            padding: 8px 0;
            color: var(--secondary);
        }

        /* Info Section */
        .info-container {
            padding: 20px;
            max-width: 900px;
            margin: 0 auto;
        }

        .info-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 3px 15px var(--shadow);
            margin-bottom: 20px;
        }

        .info-card h3 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 24px;
        }

        .info-card h4 {
            color: var(--accent);
            margin: 20px 0 10px;
        }

        .info-steps {
            background: linear-gradient(135deg, rgba(159, 122, 234, 0.1), transparent);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .info-steps ol {
            padding-left: 20px;
        }

        .info-steps li {
            margin: 10px 0;
            color: var(--secondary);
        }

        /* About Section */
        .about-container {
            padding: 20px;
            max-width: 900px;
            margin: 0 auto;
        }

        .about-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 3px 15px var(--shadow);
            margin-bottom: 20px;
            text-align: center;
        }

        .about-card h3 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 28px;
        }

        .about-logo {
            font-size: 60px;
            margin: 20px 0;
        }

        .about-links {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 30px 0;
        }

        .about-links a {
            color: var(--accent);
            text-decoration: none;
            font-size: 18px;
            transition: color 0.3s;
        }

        .about-links a:hover {
            color: var(--comfort);
        }

        .mission-box {
            background: linear-gradient(135deg, rgba(72, 187, 120, 0.1), rgba(66, 153, 225, 0.1));
            padding: 25px;
            border-radius: 10px;
            margin: 30px 0;
            font-style: italic;
            color: var(--primary);
            line-height: 1.8;
        }

        .donate-btn {
            background: linear-gradient(135deg, #48BB78, #38A169);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 30px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(72, 187, 120, 0.3);
        }

        .donate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(72, 187, 120, 0.4);
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            box-shadow: 0 -2px 10px var(--shadow);
            z-index: 999;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            cursor: pointer;
            padding: 5px 10px;
            transition: all 0.3s;
            flex: 1;
            user-select: none;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-item.active {
            background: rgba(255, 255, 255, 0.2);
        }

        .nav-icon {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .nav-label {
            font-size: 12px;
        }

        /* Progress Tracker */
        .progress-container {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 3px 15px var(--shadow);
            margin: 20px 0;
        }

        .progress-bar {
            background: #E2E8F0;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            background: linear-gradient(90deg, var(--hope), var(--comfort));
            height: 100%;
            width: 0%;
            transition: width 1s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        /* Messages */
        .message {
            padding: 15px 20px;
            border-radius: 10px;
            margin: 20px 0;
            animation: slideIn 0.5s;
        }

        .message.success {
            background: rgba(72, 187, 120, 0.1);
            border-left: 4px solid var(--hope);
            color: #22543D;
        }

        .message.info {
            background: rgba(66, 153, 225, 0.1);
            border-left: 4px solid var(--comfort);
            color: #1A365D;
        }

        @keyframes slideIn {
            from { transform: translateX(-50px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body {
                padding-top: 60px;
            }

            .opening-screen h1 {
                font-size: 32px;
            }

            .header h2 {
                font-size: 20px;
            }

            .header {
                padding: 15px;
            }

            .grief-type-grid {
                grid-template-columns: 1fr;
            }

            .resources-grid {
                grid-template-columns: 1fr;
            }

            .memory-display {
                grid-template-columns: 1fr;
            }

            .crisis-grid {
                grid-template-columns: 1fr;
            }

            .journal-controls {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }

            .quick-access {
                padding: 10px;
            }

            .quick-btn {
                font-size: 13px;
                padding: 8px 15px;
            }

            .nav-back {
                padding: 6px 12px;
                font-size: 13px;
            }

            .bottom-nav {
                padding: 8px 0;
            }

            .nav-icon {
                font-size: 20px;
            }

            .nav-label {
                font-size: 11px;
            }

            .stage-card {
                padding: 20px;
            }

            .message {
                font-size: 14px;
                padding: 12px;
            }
        }

        /* Breathing Exercise */
        .breathing-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
        }

        .breathing-circle {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--comfort), var(--accent));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
            animation: breathe 8s infinite;
            box-shadow: 0 10px 40px rgba(159, 122, 234, 0.3);
        }

        @keyframes breathe {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .breathing-text {
            margin-top: 30px;
            text-align: center;
            color: var(--primary);
            font-size: 18px;
        }

        /* Prayer List */
        .prayer-list {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 3px 15px var(--shadow);
            margin: 20px 0;
        }

        .prayer-item {
            padding: 15px;
            border-bottom: 1px solid #E2E8F0;
        }

        .prayer-item:last-child {
            border-bottom: none;
        }

        .prayer-title {
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .prayer-content {
            color: var(--secondary);
            line-height: 1.6;
        }
        /* Floating Action Button */
        .fab {
            position: fixed;
            bottom: 100px;
            right: 20px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent), var(--comfort));
            color: white;
            border: none;
            box-shadow: 0 4px 12px rgba(159, 122, 234, 0.4);
            cursor: pointer;
            z-index: 998;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            transition: all 0.3s;
        }

        .fab:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(159, 122, 234, 0.5);
        }

        .fab-menu {
            position: fixed;
            bottom: 170px;
            right: 20px;
            display: none;
            flex-direction: column;
            gap: 10px;
            z-index: 997;
        }

        .fab-menu.active {
            display: flex;
        }

        .fab-option {
            background: white;
            padding: 8px 16px;
            border-radius: 25px;
            box-shadow: 0 2px 8px var(--shadow);
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .fab-option:hover {
            transform: translateX(-5px);
            box-shadow: 0 4px 12px var(--shadow);
        }

        @media (max-width: 768px) {
            .fab {
                bottom: 90px;
                right: 15px;
                width: 50px;
                height: 50px;
            }
        }
    </style>
</head>
<body>
    <!-- Top Navigation Bar -->
    <div class="top-nav-bar">
        <div class="nav-left">
            <div class="hamburger" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="nav-title">Valley of Shadows</div>
        </div>
        <div class="nav-right">
            <div class="nav-back" onclick="goBack()" id="backBtn" style="display: none;">← Back</div>
            <div class="audio-toggle" onclick="toggleAudio()">
                <span id="audioIcon">🎵</span>
                <span id="audioText">Music</span>
            </div>
        </div>
    </div>

    <!-- Side Menu -->
    <div class="side-menu" id="sideMenu">
        <div class="menu-section">
            <h3>Main</h3>
            <div class="menu-item" onclick="navigateTo('dashboard')">
                <span class="menu-icon">🏠</span>
                <span class="menu-label">Home Dashboard</span>
            </div>
            <div class="menu-item" onclick="navigateTo('journey')">
                <span class="menu-icon">🛤️</span>
                <span class="menu-label">Grief Journey</span>
            </div>
        </div>
        
        <div class="menu-section">
            <h3>Tools</h3>
            <div class="menu-item" onclick="navigateTo('journal')">
                <span class="menu-icon">📝</span>
                <span class="menu-label">Grief Journal</span>
            </div>
            <div class="menu-item" onclick="navigateTo('memory')">
                <span class="menu-icon">🌹</span>
                <span class="menu-label">Memory Garden</span>
            </div>
            <div class="menu-item" onclick="navigateTo('breathing')">
                <span class="menu-icon">🫁</span>
                <span class="menu-label">Breathing Space</span>
            </div>
            <div class="menu-item" onclick="navigateTo('prayers')">
                <span class="menu-icon">🙏</span>
                <span class="menu-label">Prayer Support</span>
            </div>
        </div>
        
        <div class="menu-section">
            <h3>Support</h3>
            <div class="menu-item" onclick="navigateTo('crisis')">
                <span class="menu-icon">🆘</span>
                <span class="menu-label">Crisis Help</span>
            </div>
            <div class="menu-item" onclick="navigateTo('resources')">
                <span class="menu-icon">📚</span>
                <span class="menu-label">Resources</span>
            </div>
        </div>
        
        <div class="menu-section">
            <h3>About</h3>
            <div class="menu-item" onclick="navigateTo('info')">
                <span class="menu-icon">ℹ️</span>
                <span class="menu-label">App Info</span>
            </div>
            <div class="menu-item" onclick="navigateTo('about')">
                <span class="menu-icon">✨</span>
                <span class="menu-label">Ministry</span>
            </div>
        </div>
    </div>

    <!-- Menu Overlay -->
    <div class="menu-overlay" id="menuOverlay" onclick="toggleMenu()"></div>

    <!-- Opening Screen -->
    <div id="openingScreen" class="screen opening-screen active">
        <h1>Valley of Shadows</h1>
        <div class="verse">
            <p>"Even though I walk through the valley of the shadow of death, I will fear no evil, for you are with me; your rod and your staff, they comfort me."</p>
            <p class="author">- Psalm 23:4</p>
        </div>
        <button class="enter-btn" onclick="navigateTo('dashboard')">Enter Your Journey of Healing</button>
    </div>

    <!-- Dashboard Screen -->
    <div id="dashboard" class="screen">
        <div class="header">
            <h2>Your Grief Support Companion</h2>
            <p>You are not walking alone</p>
        </div>

        <!-- Quick Access Bar -->
        <div class="quick-access">
            <button class="quick-btn" onclick="navigateTo('journal')">📝 Journal</button>
            <button class="quick-btn" onclick="navigateTo('memory')">🌹 Memories</button>
            <button class="quick-btn" onclick="navigateTo('breathing')">🫁 Breathe</button>
            <button class="quick-btn" onclick="navigateTo('prayers')">🙏 Prayers</button>
            <button class="quick-btn" onclick="navigateTo('crisis')">🆘 Crisis</button>
        </div>
        
        <div class="dashboard">
            <div class="welcome-card">
                <h3>Welcome, Beloved Soul</h3>
                <p>You are not alone in this valley. God walks with you through every tear, every memory, and every moment of pain. This sacred space is here to support your journey through grief with biblical wisdom, practical tools, and the comfort of God's presence.</p>
            </div>

            <div class="message info">
                <strong>Remember:</strong> Grief is not a sign of weak faith. Jesus wept. God grieves with us. Your tears are precious to Him.
            </div>

            <div class="grief-type-grid">
                <div class="grief-card" onclick="navigateTo('journey')">
                    <div class="icon">🕊️</div>
                    <h4>Loss of Loved One</h4>
                    <p>Navigate the pain of losing someone dear. Find comfort in God's promises of eternal life and reunion.</p>
                </div>

                <div class="grief-card" onclick="navigateTo('journey')">
                    <div class="icon">💔</div>
                    <h4>Divorce & Separation</h4>
                    <p>Process the grief of a broken relationship. Discover healing and hope for your future.</p>
                </div>

                <div class="grief-card" onclick="navigateTo('journey')">
                    <div class="icon">👶</div>
                    <h4>Pregnancy Loss</h4>
                    <p>Honor your little one's life. Find comfort in God's tender care for you and your baby.</p>
                </div>

                <div class="grief-card" onclick="navigateTo('journey')">
                    <div class="icon">🏥</div>
                    <h4>Health & Diagnosis</h4>
                    <p>Grieve the loss of health or abilities. Find strength in God's sufficiency.</p>
                </div>

                <div class="grief-card" onclick="navigateTo('journey')">
                    <div class="icon">💼</div>
                    <h4>Job & Career Loss</h4>
                    <p>Process vocational grief and uncertainty. Trust God's provision and plan.</p>
                </div>

                <div class="grief-card" onclick="navigateTo('journey')">
                    <div class="icon">⛪</div>
                    <h4>Spiritual Crisis</h4>
                    <p>Navigate faith questions and doubts. Rediscover God in the darkness.</p>
                </div>
            </div>

            <div class="progress-container">
                <h3>Your Healing Journey Progress</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressBar">0%</div>
                </div>
                <button class="btn btn-hope" onclick="updateProgress()">Update My Progress</button>
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 30px;">
                <button class="btn" onclick="navigateTo('journal')">📝 Grief Journal</button>
                <button class="btn" onclick="navigateTo('memory')">🌹 Memory Garden</button>
                <button class="btn" onclick="navigateTo('breathing')">🫁 Breathing Space</button>
                <button class="btn" onclick="navigateTo('prayers')">🙏 Prayer Support</button>
            </div>
        </div>
    </div>

    <!-- Journey Screen -->
    <div id="journey" class="screen">
        <div class="header">
            <h2>Your Grief Journey</h2>
            <p>Understanding the Stages of Grief</p>
        </div>

        <div class="journey-container">
            <div class="message info">
                <strong>Note:</strong> Grief is not linear. You may experience these stages in any order, repeatedly, or simultaneously. This is normal and okay.
            </div>

            <div class="stage-card">
                <h3><span class="stage-icon">😢</span> Stage 1: Shock & Denial</h3>
                <div class="stage-content">
                    <p>The initial numbness that protects us from overwhelming pain. You might feel disconnected, confused, or unable to accept the reality of your loss.</p>
                    
                    <div class="scripture-box">
                        <p>"My God, my God, why have you forsaken me? Why are you so far from saving me, from the words of my groaning?"</p>
                        <div class="reference">Psalm 22:1</div>
                    </div>
                    
                    <p><strong>What helps:</strong></p>
                    <ul style="margin-left: 20px; line-height: 1.8;">
                        <li>Allow yourself to feel numb - it's protective</li>
                        <li>Don't make major decisions right now</li>
                        <li>Surround yourself with supportive people</li>
                        <li>Take care of basic needs: eat, sleep, breathe</li>
                        <li>Repeat simple truths: "God is with me"</li>
                    </ul>
                </div>
            </div>

            <div class="stage-card">
                <h3><span class="stage-icon">😠</span> Stage 2: Anger</h3>
                <div class="stage-content">
                    <p>Anger at God, yourself, others, or the situation. This emotion needs expression and validation, not judgment.</p>
                    
                    <div class="scripture-box">
                        <p>"How long, O Lord? Will you forget me forever? How long will you hide your face from me?"</p>
                        <div class="reference">Psalm 13:1</div>
                    </div>
                    
                    <p><strong>What helps:</strong></p>
                    <ul style="margin-left: 20px; line-height: 1.8;">
                        <li>Express anger safely: journal, exercise, cry</li>
                        <li>Talk to God honestly - He can handle it</li>
                        <li>Read the Psalms of lament</li>
                        <li>Avoid hurting yourself or others</li>
                        <li>Remember: anger is often love with nowhere to go</li>
                    </ul>
                </div>
            </div>

            <div class="stage-card">
                <h3><span class="stage-icon">🤝</span> Stage 3: Bargaining</h3>
                <div class="stage-content">
                    <p>"If only" thoughts dominate. You might try to negotiate with God or replay scenarios seeking different outcomes.</p>
                    
                    <div class="scripture-box">
                        <p>"The Lord gave, and the Lord has taken away; blessed be the name of the Lord."</p>
                        <div class="reference">Job 1:21</div>
                    </div>
                    
                    <p><strong>What helps:</strong></p>
                    <ul style="margin-left: 20px; line-height: 1.8;">
                        <li>Recognize bargaining as part of processing</li>
                        <li>Focus on what you can control today</li>
                        <li>Practice acceptance prayers</li>
                        <li>Talk through "what ifs" with a counselor</li>
                        <li>Remember God's sovereignty and love</li>
                    </ul>
                </div>
            </div>

            <div class="stage-card">
                <h3><span class="stage-icon">😔</span> Stage 4: Depression</h3>
                <div class="stage-content">
                    <p>Deep sadness as the reality of loss sets in. This is necessary for healing, not something to rush through.</p>
                    
                    <div class="scripture-box">
                        <p>"He was despised and rejected by men, a man of sorrows and acquainted with grief."</p>
                        <div class="reference">Isaiah 53:3</div>
                    </div>
                    
                    <p><strong>What helps:</strong></p>
                    <ul style="margin-left: 20px; line-height: 1.8;">
                        <li>Allow yourself to grieve fully</li>
                        <li>Maintain basic self-care routines</li>
                        <li>Seek professional help if needed</li>
                        <li>Remember Jesus understands sorrow</li>
                        <li>Hold onto hope even when you can't feel it</li>
                    </ul>
                </div>
            </div>

            <div class="stage-card">
                <h3><span class="stage-icon">🌅</span> Stage 5: Acceptance</h3>
                <div class="stage-content">
                    <p>Not "being okay" with loss, but learning to live with it. Finding a new normal and meaning in life again.</p>
                    
                    <div class="scripture-box">
                        <p>"He will wipe every tear from their eyes. There will be no more death or mourning or crying or pain."</p>
                        <div class="reference">Revelation 21:4</div>
                    </div>
                    
                    <p><strong>What helps:</strong></p>
                    <ul style="margin-left: 20px; line-height: 1.8;">
                        <li>Create new routines and rhythms</li>
                        <li>Find ways to honor your loved one's memory</li>
                        <li>Invest in new relationships and purposes</li>
                        <li>Help others in their grief journey</li>
                        <li>Celebrate small victories and growth</li>
                    </ul>
                </div>
            </div>

            <button class="btn btn-hope" onclick="saveJourneyStage()">Save My Current Stage</button>
        </div>
    </div>

    <!-- Journal Screen -->
    <div id="journal" class="screen">
        <div class="header">
            <h2>Grief Journal</h2>
            <p>A Safe Space for Your Thoughts</p>
        </div>

        <div class="journal-container">
            <div class="journal-entry">
                <div class="journal-prompt" id="journalPrompt">
                    Today's Prompt: "What do I miss most? Allow yourself to remember and honor those feelings."
                </div>
                
                <textarea class="journal-textarea" id="journalText" placeholder="Pour out your heart here. No judgment, just healing..."></textarea>
                
                <div class="journal-controls">
                    <button class="btn" onclick="saveJournalEntry()">Save Entry</button>
                    <button class="btn btn-secondary" onclick="newPrompt()">New Prompt</button>
                    <button class="btn btn-hope" onclick="viewEntries()">View Past Entries</button>
                </div>
            </div>

            <div id="savedMessage" class="message success" style="display: none;">
                Your entry has been saved. Thank you for sharing your heart.
            </div>

            <div id="pastEntries" style="display: none;">
                <h3 style="margin: 30px 0 20px;">Your Journey Entries</h3>
                <div id="entriesList"></div>
            </div>
        </div>
    </div>

    <!-- Memory Garden Screen -->
    <div id="memory" class="screen">
        <div class="header">
            <h2>Memory Garden</h2>
            <p>Celebrating Lives & Treasured Moments</p>
        </div>

        <div class="memory-container">
            <div class="memory-form">
                <h3>Plant a Memory</h3>
                <div class="form-group">
                    <label>Name or Title</label>
                    <input type="text" id="memoryName" placeholder="Who or what are you remembering?">
                </div>
                
                <div class="form-group">
                    <label>Memory Type</label>
                    <select id="memoryType">
                        <option value="person">Loved One</option>
                        <option value="pet">Beloved Pet</option>
                        <option value="dream">Lost Dream</option>
                        <option value="season">Life Season</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Your Memory</label>
                    <textarea id="memoryText" rows="4" placeholder="Share a cherished memory, quality, or moment..."></textarea>
                </div>
                
                <button class="btn btn-hope" onclick="saveMemory()">Plant This Memory 🌹</button>
            </div>

            <h3 style="margin: 30px 0 20px;">Your Memory Garden</h3>
            <div class="memory-display" id="memoryDisplay">
                <!-- Memories will be displayed here -->
            </div>
        </div>
    </div>

    <!-- Breathing Exercise Screen -->
    <div id="breathing" class="screen">
        <div class="header">
            <h2>Breathing Space</h2>
            <p>Finding Peace in the Storm</p>
        </div>

        <div class="breathing-container">
            <div class="breathing-circle" id="breathingCircle">
                <span id="breathingText">Ready</span>
            </div>
            
            <div class="breathing-text">
                <p id="breathingInstruction">Click the circle to begin guided breathing</p>
            </div>

            <button class="btn btn-hope" onclick="startBreathing()">Start Breathing Exercise</button>

            <div class="scripture-box" style="max-width: 600px; margin: 40px auto;">
                <p>"Peace I leave with you; my peace I give to you. Not as the world gives do I give to you. Let not your hearts be troubled, neither let them be afraid."</p>
                <div class="reference">John 14:27</div>
            </div>

            <div style="max-width: 600px; margin: 20px auto; text-align: center;">
                <h3 style="color: var(--primary); margin-bottom: 20px;">Quick Calming Techniques</h3>
                <div style="text-align: left; line-height: 2;">
                    <p>✋ <strong>5-4-3-2-1 Grounding:</strong> Name 5 things you see, 4 you can touch, 3 you hear, 2 you smell, 1 you taste</p>
                    <p>💧 <strong>Cold Water:</strong> Splash cold water on your face or hold ice cubes</p>
                    <p>🎵 <strong>Worship Music:</strong> Play your favorite hymn or worship song</p>
                    <p>📖 <strong>Scripture Reading:</strong> Read Psalm 23 slowly, multiple times</p>
                    <p>🚶 <strong>Movement:</strong> Take a gentle walk, stretch, or do light exercise</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Prayer Support Screen -->
    <div id="prayers" class="screen">
        <div class="header">
            <h2>Prayer Support</h2>
            <p>When Words Are Hard to Find</p>
        </div>

        <div class="memory-container">
            <div class="prayer-list">
                <div class="prayer-item">
                    <div class="prayer-title">When I Can't Pray</div>
                    <div class="prayer-content">
                        Lord, I come to You empty-handed and broken-hearted. I don't have words, only tears. Your Word says the Spirit intercedes for me with groanings too deep for words. Please hear what my heart cannot express. Hold me in this darkness. Amen.
                    </div>
                </div>

                <div class="prayer-item">
                    <div class="prayer-title">For Overwhelming Sadness</div>
                    <div class="prayer-content">
                        God of all comfort, this sadness feels like it will swallow me whole. I remember that Jesus was "a man of sorrows, acquainted with grief." You understand this pain. Please be especially near to me today. Give me strength for the next breath, the next moment, the next hour. Amen.
                    </div>
                </div>

                <div class="prayer-item">
                    <div class="prayer-title">For Anger at God</div>
                    <div class="prayer-content">
                        God, I'm angry. I don't understand why this happened. Like Job, I cry out my questions and complaints to You. Thank You that You're big enough to handle my anger. Help me to trust You even when I don't understand Your ways. Amen.
                    </div>
                </div>

                <div class="prayer-item">
                    <div class="prayer-title">For Guilty Feelings</div>
                    <div class="prayer-content">
                        Father, guilt haunts me - things said, unsaid, done, undone. Your Word says there is no condemnation for those in Christ Jesus. Help me receive Your forgiveness and forgive myself. Show me that love is not measured by perfection but by presence. Amen.
                    </div>
                </div>

                <div class="prayer-item">
                    <div class="prayer-title">For Hope in Darkness</div>
                    <div class="prayer-content">
                        Lord, I can't see hope right now, but I choose to believe it exists. You promise that weeping may endure for a night, but joy comes in the morning. I trust that morning will come, even if I can't imagine it yet. Be my hope when I have none. Amen.
                    </div>
                </div>
            </div>

            <div class="memory-form" style="margin-top: 30px;">
                <h3>Write Your Own Prayer</h3>
                <div class="form-group">
                    <textarea id="personalPrayer" rows="6" placeholder="Pour out your heart to God..."></textarea>
                </div>
                <button class="btn btn-hope" onclick="savePrayer()">Save This Prayer</button>
            </div>
        </div>
    </div>

    <!-- Crisis Screen -->
    <div id="crisis" class="screen">
        <div class="crisis-banner">
            <h2>Crisis Support</h2>
            <p>You Don't Have to Face This Alone</p>
        </div>

        <div class="crisis-container">
            <div class="crisis-grid">
                <div class="crisis-card">
                    <h4>🌍 Immediate Help</h4>
                    <ul>
                        <li>If you are in crisis, please contact your local helpline for immediate support</li>
                        <li>Reach out to a trusted friend or family member</li>
                        <li>Contact your pastor or spiritual leader</li>
                        <li>Visit your nearest emergency room if needed</li>
                    </ul>
                </div>

                <div class="crisis-card">
                    <h4>📞 When to Seek Help</h4>
                    <ul>
                        <li>Thoughts of self-harm or suicide</li>
                        <li>Unable to care for yourself or others</li>
                        <li>Substance abuse to cope with grief</li>
                        <li>Persistent depression after several months</li>
                        <li>Hallucinations or severe anxiety</li>
                    </ul>
                </div>

                <div class="crisis-card">
                    <h4>🤝 Support Options</h4>
                    <ul>
                        <li>Grief support groups at local churches</li>
                        <li>Professional grief counselors</li>
                        <li>Online grief communities</li>
                        <li>Pastoral counseling</li>
                        <li>Hospice bereavement services</li>
                    </ul>
                </div>
            </div>

            <div class="scripture-box" style="margin-top: 30px;">
                <p>"The Lord is near to the brokenhearted and saves the crushed in spirit."</p>
                <div class="reference">Psalm 34:18</div>
            </div>
        </div>
    </div>

    <!-- Resources Screen -->
    <div id="resources" class="screen">
        <div class="header">
            <h2>Grief Resources</h2>
            <p>Tools for Your Healing Journey</p>
        </div>

        <div class="resources-grid">
            <div class="resource-card">
                <h4>📚 Recommended Books</h4>
                <ul class="resource-list">
                    <li>"A Grief Observed" - C.S. Lewis</li>
                    <li>"When God Doesn't Fix It" - Laura Story</li>
                    <li>"Grieving the Child I Never Knew" - Kathe Wunnenberg</li>
                    <li>"Getting to the Other Side of Grief" - Susan Zonnebelt-Smeenge</li>
                    <li>"The Problem of Pain" - C.S. Lewis</li>
                </ul>
            </div>

            <div class="resource-card">
                <h4>🎵 Comforting Music</h4>
                <ul class="resource-list">
                    <li>"Blessed Be Your Name" - Matt Redman</li>
                    <li>"Even If" - MercyMe</li>
                    <li>"Eye of the Storm" - Ryan Stevenson</li>
                    <li>"Thy Will" - Hillary Scott</li>
                    <li>"Praise You in This Storm" - Casting Crowns</li>
                </ul>
            </div>

            <div class="resource-card">
                <h4>📖 Healing Scriptures</h4>
                <ul class="resource-list">
                    <li>Psalm 23 - The Shepherd's Psalm</li>
                    <li>Romans 8:28 - All things work together</li>
                    <li>2 Corinthians 1:3-4 - God of all comfort</li>
                    <li>Revelation 21:4 - No more tears</li>
                    <li>Matthew 5:4 - Blessed are those who mourn</li>
                </ul>
            </div>

            <div class="resource-card">
                <h4>🕊️ Types of Grief</h4>
                <ul class="resource-list">
                    <li>Anticipatory Grief - Before loss occurs</li>
                    <li>Complicated Grief - Prolonged, intense</li>
                    <li>Disenfranchised Grief - Not socially recognized</li>
                    <li>Collective Grief - Community loss</li>
                    <li>Ambiguous Grief - Unclear loss</li>
                </ul>
            </div>

            <div class="resource-card">
                <h4>💪 Self-Care Ideas</h4>
                <ul class="resource-list">
                    <li>Maintain routine as much as possible</li>
                    <li>Eat nutritious meals regularly</li>
                    <li>Get sunlight and fresh air daily</li>
                    <li>Accept help from others</li>
                    <li>Be patient with yourself</li>
                </ul>
            </div>

            <div class="resource-card">
                <h4>⛪ Spiritual Practices</h4>
                <ul class="resource-list">
                    <li>Daily scripture reading</li>
                    <li>Worship even when you don't feel like it</li>
                    <li>Honest prayer and lament</li>
                    <li>Christian meditation</li>
                    <li>Serving others in small ways</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Info Screen -->
    <div id="info" class="screen">
        <div class="header">
            <h2>App Information</h2>
            <p>How to Use Valley of Shadows</p>
        </div>

        <div class="info-container">
            <div class="info-card">
                <h3>What This App Does</h3>
                <p>Valley of Shadows is a comprehensive grief support application designed to walk with you through loss. It provides biblical comfort, practical tools, and a safe space to process your grief journey. This app offers:</p>
                <ul style="margin: 15px 0; padding-left: 20px; line-height: 1.8;">
                    <li>Biblical guidance through grief stages</li>
                    <li>Personal grief journal with prompts</li>
                    <li>Memory garden to honor loved ones</li>
                    <li>Breathing and calming exercises</li>
                    <li>Prayer support when words fail</li>
                    <li>Crisis resources and help</li>
                    <li>Progress tracking for healing</li>
                    <li>Educational resources about grief</li>
                </ul>
            </div>

            <div class="info-card">
                <h3>How to Navigate</h3>
                <p>Use the bottom navigation bar to move between sections:</p>
                <ul style="margin: 15px 0; padding-left: 20px; line-height: 1.8;">
                    <li><strong>Home:</strong> Main dashboard with grief types and tools</li>
                    <li><strong>Crisis:</strong> Immediate help and support resources</li>
                    <li><strong>Resources:</strong> Books, music, scriptures, and tips</li>
                    <li><strong>Info:</strong> This help section</li>
                    <li><strong>About:</strong> Ministry information and support</li>
                </ul>
            </div>

            <div class="info-card">
                <h3>Install on Your Phone</h3>
                <div class="info-steps">
                    <h4>iPhone/iPad:</h4>
                    <ol>
                        <li>Open this app in Safari browser</li>
                        <li>Tap the Share button (square with arrow)</li>
                        <li>Scroll down and tap "Add to Home Screen"</li>
                        <li>Name it "Valley of Shadows"</li>
                        <li>Tap "Add"</li>
                    </ol>
                </div>
                
                <div class="info-steps">
                    <h4>Android:</h4>
                    <ol>
                        <li>Open this app in Chrome browser</li>
                        <li>Tap the menu (three dots)</li>
                        <li>Select "Add to Home Screen"</li>
                        <li>Name it "Valley of Shadows"</li>
                        <li>Tap "Add"</li>
                    </ol>
                </div>
            </div>

            <div class="info-card">
                <h3>Privacy & Data</h3>
                <p>All your journal entries, memories, and progress are stored locally on your device. Nothing is sent to any server. Your grief journey remains completely private and secure.</p>
            </div>
        </div>
    </div>

    <!-- About Screen -->
    <div id="about" class="screen">
        <div class="header">
            <h2>About This Ministry</h2>
            <p>Depths to Heights</p>
        </div>

        <div class="about-container">
            <div class="about-card">
                <div class="about-logo">⛰️</div>
                <h3>Depths to Heights Ministry</h3>
                <p style="font-size: 18px; margin: 20px 0;">Made with love by Justin</p>
                
                <div class="about-links">
                    <a href="https://depthstoheights.org" target="_blank">🌐 Visit Our Website</a>
                    <a href="mailto:depthstoheights@gmail.com">📧 Email: depthstoheights@gmail.com</a>
                </div>

                <div class="mission-box">
                    <h4 style="margin-bottom: 15px;">Our Mission</h4>
                    <p>To bring hope, healing, and practical biblical support to those in their deepest valleys, guiding them to the heights of God's purpose for their lives. We believe every tear matters, every story has value, and no one should walk through grief alone.</p>
                </div>

                <h4 style="margin: 30px 0 20px;">Support This Ministry</h4>
                <p style="margin-bottom: 20px;">This app is provided free to ensure everyone has access to grief support. If you've been blessed by this ministry, consider supporting our work:</p>
                
                <button class="donate-btn" onclick="window.open('https://www.paypal.com/donate/?hosted_button_id=8GRE7B8C3TP2U', '_blank')">
                    💝 Donate via PayPal
                </button>

                <div style="margin-top: 40px; padding: 20px; background: linear-gradient(135deg, rgba(159, 122, 234, 0.1), rgba(72, 187, 120, 0.1)); border-radius: 10px;">
                    <h4 style="margin-bottom: 15px;">A Prayer for You</h4>
                    <p style="font-style: italic; line-height: 1.8;">
                        Father God, we lift up every hurting heart using this app. Meet them in their valley of shadows. Comfort them with Your presence. Give them strength for today and hope for tomorrow. Show them that their loved ones in Christ are safe with You. In Jesus' name, Amen.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <div class="nav-item active" onclick="navigateTo('dashboard')">
            <div class="nav-icon">🏠</div>
            <div class="nav-label">Home</div>
        </div>
        <div class="nav-item" onclick="navigateTo('crisis')">
            <div class="nav-icon">🆘</div>
            <div class="nav-label">Crisis</div>
        </div>
        <div class="nav-item" onclick="navigateTo('resources')">
            <div class="nav-icon">📚</div>
            <div class="nav-label">Resources</div>
        </div>
        <div class="nav-item" onclick="navigateTo('info')">
            <div class="nav-icon">ℹ️</div>
            <div class="nav-label">Info</div>
        </div>
        <div class="nav-item" onclick="navigateTo('about')">
            <div class="nav-icon">✨</div>
            <div class="nav-label">About</div>
        </div>
    </div>

    <!-- Floating Action Button -->
    <button class="fab" onclick="toggleFab()" id="fabButton">
        ✨
    </button>
    <div class="fab-menu" id="fabMenu">
        <div class="fab-option" onclick="navigateTo('journal'); toggleFab();">
            📝 Write in Journal
        </div>
        <div class="fab-option" onclick="navigateTo('memory'); toggleFab();">
            🌹 Add Memory
        </div>
        <div class="fab-option" onclick="navigateTo('breathing'); toggleFab();">
            🫁 Breathing Exercise
        </div>
        <div class="fab-option" onclick="navigateTo('prayers'); toggleFab();">
            🙏 Find Prayer
        </div>
    </div>

    <script>
        // Initialize
        let isPlaying = false;
        let journalEntries = [];
        let memories = [];
        let currentProgress = 0;
        let breathingInterval;
        let navigationHistory = [];
        let currentScreen = 'openingScreen';

        // Floating Action Button
        function toggleFab() {
            const menu = document.getElementById('fabMenu');
            const button = document.getElementById('fabButton');
            
            if (menu.classList.contains('active')) {
                menu.classList.remove('active');
                button.innerHTML = '✨';
            } else {
                menu.classList.add('active');
                button.innerHTML = '✖️';
            }
        }

        // Close FAB when clicking elsewhere
        document.addEventListener('click', function(e) {
            const fab = document.getElementById('fabButton');
            const menu = document.getElementById('fabMenu');
            
            if (!fab.contains(e.target) && !menu.contains(e.target)) {
                menu.classList.remove('active');
                fab.innerHTML = '✨';
            }
        });

        // Load saved data on start
        window.addEventListener('DOMContentLoaded', function() {
            loadSavedData();
            loadMemories();
            updateProgressBar();
            
            // Hide navigation on opening screen
            if (currentScreen === 'openingScreen') {
                document.querySelector('.top-nav-bar').style.display = 'none';
                document.querySelector('.bottom-nav').style.display = 'none';
                document.querySelector('.fab').style.display = 'none';
            }
        });

        // Enhanced Navigation System
        function navigateTo(screenId) {
            // Show navigation bars if coming from opening screen
            if (currentScreen === 'openingScreen') {
                document.querySelector('.top-nav-bar').style.display = 'flex';
                document.querySelector('.bottom-nav').style.display = 'flex';
                document.querySelector('.fab').style.display = 'flex';
            }
            
            // Close menu if open
            closeMenu();
            
            // Add to history
            if (currentScreen !== screenId) {
                navigationHistory.push(currentScreen);
            }
            
            showScreen(screenId);
            updateBackButton();
        }

        function goBack() {
            if (navigationHistory.length > 0) {
                const prevScreen = navigationHistory.pop();
                showScreen(prevScreen);
                updateBackButton();
            } else {
                showScreen('dashboard');
            }
        }

        function updateBackButton() {
            const backBtn = document.getElementById('backBtn');
            if (currentScreen === 'dashboard' || currentScreen === 'openingScreen') {
                backBtn.style.display = 'none';
            } else {
                backBtn.style.display = 'block';
            }
        }

        // Menu Functions
        function toggleMenu() {
            const menu = document.getElementById('sideMenu');
            const overlay = document.getElementById('menuOverlay');
            const hamburger = document.querySelector('.hamburger');
            
            menu.classList.toggle('active');
            overlay.classList.toggle('active');
            hamburger.classList.toggle('active');
        }

        function closeMenu() {
            const menu = document.getElementById('sideMenu');
            const overlay = document.getElementById('menuOverlay');
            const hamburger = document.querySelector('.hamburger');
            
            menu.classList.remove('active');
            overlay.classList.remove('active');
            hamburger.classList.remove('active');
        }

        // Updated Navigation
        function showScreen(screenId, event) {
            if (event) {
                event.preventDefault();
                event.stopPropagation();
            }

            // Update current screen
            currentScreen = screenId;

            // Hide all screens
            const screens = document.querySelectorAll('.screen');
            screens.forEach(screen => screen.classList.remove('active'));

            // Show selected screen
            document.getElementById(screenId).classList.add('active');

            // Update nav
            updateNavigationUI(screenId);
            
            // Update menu items
            updateMenuItems(screenId);

            window.scrollTo(0, 0);
        }

        function updateNavigationUI(screenId) {
            // Update bottom nav
            if (screenId !== 'openingScreen') {
                const navItems = document.querySelectorAll('.nav-item');
                navItems.forEach(item => item.classList.remove('active'));
                
                const navMap = {
                    'dashboard': 0,
                    'crisis': 1,
                    'resources': 2,
                    'info': 3,
                    'about': 4
                };

                if (navMap[screenId] !== undefined) {
                    navItems[navMap[screenId]].classList.add('active');
                }
            }

            // Update top nav title
            const titles = {
                'dashboard': 'Valley of Shadows',
                'journey': 'Grief Journey',
                'journal': 'Grief Journal',
                'memory': 'Memory Garden',
                'breathing': 'Breathing Space',
                'prayers': 'Prayer Support',
                'crisis': 'Crisis Support',
                'resources': 'Resources',
                'info': 'App Information',
                'about': 'About Ministry'
            };
            
            const navTitle = document.querySelector('.nav-title');
            if (navTitle && titles[screenId]) {
                navTitle.textContent = titles[screenId];
            }
        }

        function updateMenuItems(screenId) {
            // Update active menu item
            const menuItems = document.querySelectorAll('.menu-item');
            menuItems.forEach(item => item.classList.remove('active'));
            
            // Find and activate current menu item
            menuItems.forEach(item => {
                if (item.onclick && item.onclick.toString().includes(screenId)) {
                    item.classList.add('active');
                }
            });
        }

        // Audio Toggle
        function toggleAudio() {
            isPlaying = !isPlaying;
            const icon = document.getElementById('audioIcon');
            const text = document.getElementById('audioText');
            
            if (isPlaying) {
                icon.textContent = '🔇';
                text.textContent = 'Muted';
                // In production, add actual audio element and control
            } else {
                icon.textContent = '🎵';
                text.textContent = 'Music';
            }
        }

        // Progress Tracker
        function updateProgress() {
            currentProgress = Math.min(100, currentProgress + 10);
            updateProgressBar();
            localStorage.setItem('griefProgress', currentProgress);
            
            const messages = [
                "Every step forward matters",
                "You're making progress",
                "Healing is happening",
                "God sees your journey",
                "You're stronger than you know"
            ];
            
            showMessage(messages[Math.floor(Math.random() * messages.length)], 'success');
        }

        function updateProgressBar() {
            const bar = document.getElementById('progressBar');
            if (bar) {
                bar.style.width = currentProgress + '%';
                bar.textContent = currentProgress + '%';
            }
        }

        // Journal Functions
        const prompts = [
            "What do I miss most today?",
            "What would I say if I had one more conversation?",
            "How has grief changed me?",
            "What am I grateful for today, even in grief?",
            "What fears do I need to release to God?",
            "How have I seen God's presence in this valley?",
            "What would my loved one want for me now?",
            "What small victory can I celebrate today?",
            "How has someone showed me love recently?",
            "What hope am I holding onto?"
        ];

        function newPrompt() {
            const prompt = prompts[Math.floor(Math.random() * prompts.length)];
            document.getElementById('journalPrompt').textContent = `Today's Prompt: "${prompt}"`;
        }

        function saveJournalEntry() {
            const text = document.getElementById('journalText').value.trim();
            if (!text) return;

            const entry = {
                date: new Date().toLocaleDateString(),
                time: new Date().toLocaleTimeString(),
                text: text,
                prompt: document.getElementById('journalPrompt').textContent
            };

            journalEntries.unshift(entry);
            localStorage.setItem('journalEntries', JSON.stringify(journalEntries));
            
            document.getElementById('journalText').value = '';
            document.getElementById('savedMessage').style.display = 'block';
            
            setTimeout(() => {
                document.getElementById('savedMessage').style.display = 'none';
            }, 3000);
        }

        function viewEntries() {
            const container = document.getElementById('pastEntries');
            const list = document.getElementById('entriesList');
            
            if (journalEntries.length === 0) {
                list.innerHTML = '<p style="color: var(--secondary); text-align: center;">No entries yet. Start journaling to see your journey.</p>';
            } else {
                list.innerHTML = journalEntries.slice(0, 5).map(entry => `
                    <div class="journal-entry">
                        <div style="color: var(--secondary); font-size: 14px; margin-bottom: 10px;">
                            ${entry.date} at ${entry.time}
                        </div>
                        <div style="font-style: italic; color: var(--accent); margin-bottom: 10px;">
                            ${entry.prompt}
                        </div>
                        <div style="line-height: 1.8;">
                            ${entry.text}
                        </div>
                    </div>
                `).join('');
            }
            
            container.style.display = container.style.display === 'none' ? 'block' : 'none';
        }

        // Memory Garden
        function saveMemory() {
            const name = document.getElementById('memoryName').value.trim();
            const type = document.getElementById('memoryType').value;
            const text = document.getElementById('memoryText').value.trim();
            
            if (!name || !text) {
                showMessage('Please fill in all fields', 'info');
                return;
            }

            const memory = {
                name: name,
                type: type,
                text: text,
                date: new Date().toLocaleDateString()
            };

            memories.unshift(memory);
            localStorage.setItem('memories', JSON.stringify(memories));
            
            // Clear form
            document.getElementById('memoryName').value = '';
            document.getElementById('memoryText').value = '';
            
            loadMemories();
            showMessage('Memory planted in your garden 🌹', 'success');
        }

        function loadMemories() {
            const display = document.getElementById('memoryDisplay');
            if (!display) return;
            
            if (memories.length === 0) {
                display.innerHTML = '<p style="text-align: center; color: var(--secondary);">Your garden is waiting for memories to bloom...</p>';
            } else {
                display.innerHTML = memories.map(memory => {
                    const icons = {
                        person: '👤',
                        pet: '🐾',
                        dream: '💭',
                        season: '🍂',
                        other: '💫'
                    };
                    
                    return `
                        <div class="memory-card">
                            <div class="memory-date">${icons[memory.type]} ${memory.date}</div>
                            <div class="memory-name">${memory.name}</div>
                            <div class="memory-text">${memory.text}</div>
                        </div>
                    `;
                }).join('');
            }
        }

        // Breathing Exercise
        function startBreathing() {
            const circle = document.getElementById('breathingCircle');
            const text = document.getElementById('breathingText');
            const instruction = document.getElementById('breathingInstruction');
            
            let phase = 0;
            const phases = [
                { text: 'Breathe In', duration: 4000 },
                { text: 'Hold', duration: 4000 },
                { text: 'Breathe Out', duration: 4000 },
                { text: 'Rest', duration: 2000 }
            ];
            
            clearInterval(breathingInterval);
            
            function nextPhase() {
                const current = phases[phase % phases.length];
                text.textContent = current.text;
                instruction.textContent = current.text + ' slowly and deeply';
                phase++;
                
                if (phase >= 12) { // 3 complete cycles
                    clearInterval(breathingInterval);
                    text.textContent = 'Complete';
                    instruction.textContent = 'Well done. Peace be with you.';
                }
            }
            
            nextPhase();
            breathingInterval = setInterval(nextPhase, 4000);
        }

        // Save Prayer
        function savePrayer() {
            const prayer = document.getElementById('personalPrayer').value.trim();
            if (!prayer) return;
            
            const prayers = JSON.parse(localStorage.getItem('prayers') || '[]');
            prayers.unshift({
                text: prayer,
                date: new Date().toISOString()
            });
            
            localStorage.setItem('prayers', JSON.stringify(prayers.slice(0, 20)));
            document.getElementById('personalPrayer').value = '';
            showMessage('Your prayer has been lifted up 🙏', 'success');
        }

        // Save Journey Stage
        function saveJourneyStage() {
            const stageSelect = document.createElement('select');
            stageSelect.innerHTML = `
                <option value="">Select your current stage...</option>
                <option value="1">Stage 1: Shock & Denial</option>
                <option value="2">Stage 2: Anger</option>
                <option value="3">Stage 3: Bargaining</option>
                <option value="4">Stage 4: Depression</option>
                <option value="5">Stage 5: Acceptance</option>
            `;
            
            // Create a simple inline form instead of prompt
            const container = document.querySelector('.journey-container');
            const form = document.createElement('div');
            form.className = 'message info';
            form.innerHTML = `
                <h4>Select Your Current Stage</h4>
                <select id="stageSelect" style="width: 100%; padding: 10px; margin: 10px 0;">
                    <option value="">Choose the stage that resonates most...</option>
                    <option value="1">Stage 1: Shock & Denial</option>
                    <option value="2">Stage 2: Anger</option>
                    <option value="3">Stage 3: Bargaining</option>
                    <option value="4">Stage 4: Depression</option>
                    <option value="5">Stage 5: Acceptance</option>
                </select>
                <button class="btn btn-hope" onclick="confirmStage()">Save Stage</button>
            `;
            
            // Remove any existing form
            const existingForm = document.getElementById('stageForm');
            if (existingForm) existingForm.remove();
            
            form.id = 'stageForm';
            container.insertBefore(form, container.firstChild.nextSibling);
        }
        
        function confirmStage() {
            const stage = document.getElementById('stageSelect').value;
            if (stage) {
                localStorage.setItem('currentStage', stage);
                document.getElementById('stageForm').remove();
                showMessage('Your journey stage has been noted', 'success');
            }
        }

        // Load Saved Data
        function loadSavedData() {
            // Load journal entries
            const saved = localStorage.getItem('journalEntries');
            if (saved) {
                journalEntries = JSON.parse(saved);
            }
            
            // Load memories
            const savedMemories = localStorage.getItem('memories');
            if (savedMemories) {
                memories = JSON.parse(savedMemories);
            }
            
            // Load progress
            const savedProgress = localStorage.getItem('griefProgress');
            if (savedProgress) {
                currentProgress = parseInt(savedProgress);
            }
        }

        // Show Message
        function showMessage(text, type) {
            // Create message element
            const msg = document.createElement('div');
            msg.className = `message ${type}`;
            msg.textContent = text;
            msg.style.position = 'fixed';
            msg.style.top = '80px';
            msg.style.left = '50%';
            msg.style.transform = 'translateX(-50%)';
            msg.style.zIndex = '2000';
            msg.style.maxWidth = '90%';
            msg.style.width = '400px';
            
            document.body.appendChild(msg);
            
            setTimeout(() => {
                msg.remove();
            }, 3000);
        }
    </script>
</body>
</html>